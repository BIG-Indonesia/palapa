!function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,b),
e.loaded=!0,e.exports}var c={};return b.m=a,b.c=c,b.p="",b(0)}([function(a,b,c){"use strict";var d=c(1),e=c(2);angular.module("pubnub.angular.service",[]).factory("Pubnub",["$rootScope",function(a){
if(!angular.isDefined(PUBNUB))throw new Error("PUBNUB is not in global scope. Ensure that pubnub.js file is included before pubnub-angular.js");
var b={},c={};return b.init=function(a){return b.getInstance(d.default_instance_name).init(a)},b.getInstance=function(f){
var g=c[f];return angular.isDefined(g)&&g instanceof e?g:"string"==typeof f&&f.length>0?(c[f]=new e(f,b,a),d.methods_to_delegate.forEach(function(a){
c[f].wrapMethod(a),b[a]=function(b){return this.getInstance(d.default_instance_name)[a](b)}}),c[f]):g},b.getEventNameFor=function(a,b,c){
return c||(c=d.default_instance_name),[d.pubnub_prefix,c,a,b].join(":")},b.getMessageEventNameFor=function(a,b){return b||(b=d.default_instance_name),
[d.pubnub_prefix,b,"subscribe","callback",a].join(":")},b.getPresenceEventNameFor=function(a,b){return b||(b=d.default_instance_name),
[d.pubnub_prefix,b,"subscribe","presence",a].join(":")},b.subscribe=function(a){this.getInstance(d.default_instance_name).subscribe(a);
},b}])},function(a,b){a.exports={pubnub_prefix:"pubnub",default_instance_name:"default",methods_to_delegate:["history","replay","publish","unsubscribe","here_now","grant","revoke","audit","time","where_now","state","channel_group","channel_group_list_channels","channel_group_list_groups","channel_group_list_namespaces","channel_group_remove_channel","channel_group_remove_group","channel_group_remove_namespace","channel_group_add_channel","channel_group_cloak","set_uuid","get_uuid","uuid","auth","set_cipher_key","get_cipher_key","raw_encrypt","raw_decrypt","set_heartbeat","get_heartbeat","set_heartbeat_interval","get_heartbeat_interval","mobile_gw_provision"],
common_callbacks_to_wrap:["callback","error"],subscribe_callbacks_to_wrap:["callback","connect","reconnect","disconnect","error","idle","presence"]
}},function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function");
}var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,
"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),
b}}(),f=c(1),g=c(3);a.exports=function(){function a(b,c,e){d(this,a),this.label=b,this.mockingInstance=new g(b,c,e),this.pubnubInstance=null;
}return e(a,[{key:"init",value:function(a){this.pubnubInstance=new PUBNUB.init(a)}},{key:"getLabel",value:function(){return this.label;
}},{key:"subscribe",value:function(a){var b=this.mockingInstance.getCallbacksToMock(a,f.subscribe_callbacks_to_wrap);this.mockingInstance.mockCallbacks(this.getLabel(),"subscribe",a,b),
this.getOriginalInstance().subscribe(a)}},{key:"getOriginalInstance",value:function(){if(this.pubnubInstance)return this.pubnubInstance;
throw new ReferenceError("Pubnub default instance is not initialized yet. Invoke #init() method first.")}},{key:"wrapMethod",
value:function(a){var b=this;this[a]=function(c){if(angular.isObject(c)){var d=b.mockingInstance.getCallbacksToMock(c,f.common_callbacks_to_wrap);
b.mockingInstance.mockCallbacks(b.getLabel(),a,c,d)}return b.getOriginalInstance()[a](c)}}}]),a}()},function(a,b){"use strict";
function c(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var d=function(){function a(a,b){
for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d);
}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();a.exports=function(){function a(b,d,e){c(this,a),this.label=b,
this.$rootScope=e,this.service=d}return d(a,[{key:"getCallbacksToMock",value:function(a,b){var c=a.triggerEvents,d=[],e=void 0,f=void 0,g=void 0;
if(c===!0)return b;if(angular.isObject(c)){for(e=c.length,g=0;e>g;g++)f=c[g],b.indexOf(f)>=0&&d.push(f);return d}return[];
}},{key:"mockCallbacks",value:function(a,b,c,d){var e=d.length,f={},g=void 0,h=this.$rootScope,i=this.service,j=void 0;for(j=0;e>j;j++){
if(g=d[j],!angular.isObject(c))return;f[g]=c[g],function(d){c[g]=function(){if(h.$broadcast.bind.apply(h.$broadcast,[h,i.getEventNameFor(b,d,a)].concat(Array.prototype.slice.call(arguments)))(),
d in f&&angular.isFunction(f[d])&&f[d].apply(null,arguments),"subscribe"===b)switch(d){case"callback":h.$broadcast.bind.apply(h.$broadcast,[h,i.getMessageEventNameFor(arguments[2],a)].concat(Array.prototype.slice.call(arguments)))();
break;case"presence":h.$broadcast.bind.apply(h.$broadcast,[h,i.getPresenceEventNameFor(arguments[2],a)].concat(Array.prototype.slice.call(arguments)))();
}}}(g)}}}]),a}()}]);
//# sourceMappingURL=pubnub-angular-3.1.1.min.js.map